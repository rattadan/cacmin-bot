# CAC Admin Bot Configuration
# Copy this file to .env and fill in your values

# ========================================
# Core Bot Configuration
# ========================================

# Telegram Bot Token (required)
# Get from @BotFather on Telegram
BOT_TOKEN=your_bot_token_here

# Owner User ID (required)
# Your Telegram user ID - the bot owner with full permissions
OWNER_ID=your_telegram_user_id

# Admin Chat ID (optional)
# Private chat/channel for admin notifications
ADMIN_CHAT_ID=admin_chat_id

# Group Chat ID (optional)
# The main group chat the bot manages
# Used for auto-unjailing expired jails
GROUP_CHAT_ID=your_group_chat_id

# ========================================
# Unified Wallet Configuration (SIMPLIFIED)
# ========================================

# Shared Wallet Address (required)
# Single wallet for all operations (deposits, withdrawals, internal transfers)
# Users deposit here with their userId as memo
# Bot treasury is managed as internal ledger user ID -1
# Example: juno1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
USER_FUNDS_ADDRESS=

# Wallet Mnemonic (required for withdrawals)
# 24-word mnemonic for signing withdrawal transactions
# KEEP THIS SECURE - IT CONTROLS ALL FUNDS
USER_FUNDS_MNEMONIC=

# ========================================
# Juno Network Configuration
# ========================================

# Juno RPC Endpoint (optional)
# Default: https://rpc.juno.basementnodes.ca
JUNO_RPC_URL=https://rpc.juno.basementnodes.ca

# Juno API Endpoint (optional)
# Default: https://api.juno.basementnodes.ca
JUNO_API_URL=https://api.juno.basementnodes.ca

# ========================================
# Database Configuration
# ========================================

# Database Path (optional)
# Default: ./data/bot.db
DATABASE_PATH=./data/bot.db

# ========================================
# Logging Configuration
# ========================================

# Log Level (optional)
# Options: error, warn, info, debug
# Default: info
LOG_LEVEL=info

# ========================================
# REMOVED - Legacy Configurations
# ========================================
# The following have been removed in favor of the unified wallet:
# - BOT_TREASURY_ADDRESS (bot is now user ID -1 in internal ledger)
# - JUNO_WALLET_ADDRESS, JUNO_WALLET_MNEMONIC (old HD wallet system)

# ========================================
# IMPORTANT SECURITY NOTES
# ========================================
#
# 1. NEVER commit this file with real values to git
# 2. Keep USER_FUNDS_MNEMONIC absolutely secure
# 3. Use strong, unique wallet addresses
# 4. Regularly backup your database (bot.db)
# 5. Monitor wallet balances for discrepancies
#
# ========================================
# UNIFIED LEDGER SYSTEM OVERVIEW
# ========================================
#
# The bot uses a single-wallet internal ledger system:
# - One shared wallet for all operations
# - User balances tracked in database (internal ledger)
# - Bot treasury is user ID -1 in the ledger
# - Deposits: Send to wallet address with userId as memo
# - Withdrawals: From shared wallet to external addresses
# - Fines: Internal transfer from user to bot (ID -1)
# - User transfers: Internal ledger updates (instant, no fees)
#
# Key Features:
# - Automatic deposit detection with memo parsing
# - Double-spend prevention with transaction locks
# - Complete transaction history and audit trail
# - Balance reconciliation and monitoring
# - Support for unclaimed deposits (ID -3)
#
# ========================================"